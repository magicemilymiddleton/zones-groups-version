(()=>{var t={496:function(t){t.exports=function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?t(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(t,e,i){return(e=function(t){var e=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const n=(t,e,i,n)=>(t=""+t,e=""+e,n&&(t=t.trim(),e=e.trim()),i?t==e:t.toLowerCase()==e.toLowerCase()),s=(t,e)=>t&&Array.isArray(t)&&t.map((t=>a(t,e)));function a(t,e){var i,n={};for(i in t)e.indexOf(i)<0&&(n[i]=t[i]);return n}function o(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}function r(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild}function l(t,e){for(e=e||"previous";t=t[e+"Sibling"];)if(3==t.nodeType)return t}function d(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):t}function c(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function u(t,e,i){function n(t,e){for(var i in e)if(e.hasOwnProperty(i)){if(c(e[i])){c(t[i])?n(t[i],e[i]):t[i]=Object.assign({},e[i]);continue}if(Array.isArray(e[i])){t[i]=Object.assign([],e[i]);continue}t[i]=e[i]}}return t instanceof Object||(t={}),n(t,e),i&&n(t,i),t}function g(){const t=[],e={};for(let i of arguments)for(let n of i)c(n)?e[n.value]||(t.push(n),e[n.value]=1):t.includes(n)||t.push(n);return t}function h(t){return String.prototype.normalize?"string"==typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}var p=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function m(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function f(t){return t&&t.classList&&t.classList.contains(this.settings.classNames.tag)}function v(t,e){var i=window.getSelection();return e=e||i.getRangeAt(0),"string"==typeof t&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function y(t,e,i){return t?(e&&(t.__tagifyTagData=i?e:u({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn("tag element doesn't exist",t,e),e)}function w(t){if(t&&t.parentNode){var e=t,i=window.getSelection(),n=i.getRangeAt(0);i.rangeCount&&(n.setStartAfter(e),n.collapse(!0),i.removeAllRanges(),i.addRange(n))}}function b(t,e){t.forEach((t=>{if(y(t.previousSibling)||!t.previousSibling){var i=document.createTextNode("​");t.before(i),e&&w(i)}}))}var T={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function E(){this.dropdown={};for(let t in this._dropdown)this.dropdown[t]="function"==typeof this._dropdown[t]?this._dropdown[t].bind(this):this._dropdown[t];this.dropdown.refs()}var x={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(t){var e,i,s,a=this.settings,o="mix"==a.mode&&!a.enforceWhitelist,r=!a.whitelist||!a.whitelist.length,l="manual"==a.dropdown.position;if(t=void 0===t?this.state.inputText:t,!(r&&!o&&!a.templates.dropdownItemNoMatch||!1===a.dropdown.enable||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",t),a.templates.dropdownItemNoMatch&&(s=a.templates.dropdownItemNoMatch.call(this,{value:t}))),!s){if(this.suggestedListItems.length)t&&o&&!this.state.editing.scope&&!n(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!o||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}i=""+(c(e=this.suggestedListItems[0])?e.value:e),a.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(s),a.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(a.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),l||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger("dropdown:show",this.DOM.dropdown)}))}},hide(t){var e=this.DOM,i=e.scope,n=e.dropdown,s="manual"==this.settings.dropdown.position&&!t;if(n&&document.body.contains(n)&&!s)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),i.setAttribute("aria-expanded",!1),n.parentNode.removeChild(n),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",n),this},toggle(t){this.dropdown[this.state.dropdown.visible&&!t?"hide":"show"]()},render(){var t,e,i=((e=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(e),t=e.clientHeight,e.parentNode.removeChild(e),t),n=this.settings;return"number"==typeof n.dropdown.enabled&&n.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(n.classNames.dropdownInital),this.dropdown.position(i),n.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(n.classNames.dropdownInital)))),this):this},fill(t){t="string"==typeof t?t:this.dropdown.createListHTML(t||this.suggestedListItems);var e,i=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=(e=i)?e.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter(){var t=this.dropdown.filterListItems(this.state.dropdown.query),e=this.parseTemplate("dropdownHeader",[t]),i=this.parseTemplate("dropdownFooter",[t]),n=this.dropdown.getHeaderRef(),s=this.dropdown.getFooterRef();e&&n?.parentNode.replaceChild(e,n),i&&s?.parentNode.replaceChild(i,s)},refilter(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(t){var e=this.settings.dropdown;if("manual"!=e.position){var i,n,s,a,o,r,l=this.DOM.dropdown,d=e.placeAbove,c=e.appendTarget===document.body,u=c?window.pageYOffset:e.appendTarget.scrollTop,g=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,h=g.clientHeight,p=Math.max(g.clientWidth||0,window.innerWidth||0)>480?e.position:"all",m=this.DOM["input"==p?"input":"scope"];if(t=t||l.clientHeight,this.state.dropdown.visible){if("text"==p?(s=(i=function(){const t=document.getSelection();if(t.rangeCount){const e=t.getRangeAt(0),i=e.startContainer,n=e.startOffset;let s,a;if(n>0)return a=document.createRange(),a.setStart(i,n-1),a.setEnd(i,n),s=a.getBoundingClientRect(),{left:s.right,top:s.top,bottom:s.bottom};if(i.getBoundingClientRect)return i.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,n=i.top,a=i.left,o="auto"):(r=function(t){for(var e=0,i=0;t&&t!=g;)e+=t.offsetLeft||0,i+=t.offsetTop||0,t=t.parentNode;return{left:e,top:i}}(e.appendTarget),n=(i=m.getBoundingClientRect()).top-r.top,s=i.bottom-1-r.top,a=i.left-r.left,o=i.width+"px"),!c){let t=function(){for(var t=0,i=e.appendTarget.parentNode;i;)t+=i.scrollTop||0,i=i.parentNode;return t}();n+=t,s+=t}n=Math.floor(n),s=Math.ceil(s),d=void 0===d?h-i.bottom<t:d,l.style.cssText="left:"+(a+window.pageXOffset)+"px; width:"+o+";"+(d?"top: "+(n+u)+"px":"top: "+(s+u)+"px"),l.setAttribute("placement",d?"top":"bottom"),l.setAttribute("position",p)}}},events:{binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},n=t?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(document[n]("scroll",i.position,!0),window[n]("resize",i.position),window[n]("keydown",i.onKeyDown)),this.DOM.dropdown[n]("mouseover",i.onMouseOver),this.DOM.dropdown[n]("mouseleave",i.onMouseLeave),this.DOM.dropdown[n]("mousedown",i.onClick),this.DOM.dropdown.content[n]("scroll",i.onScroll)},callbacks:{onKeyDown(t){if(this.state.hasFocus&&!this.state.composing){var e=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),i=this.dropdown.getSuggestionDataByNode(e);switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":t.preventDefault();var n=this.dropdown.getAllSuggestionsRefs(),s="ArrowUp"==t.key||"Up"==t.key;e&&(e=this.dropdown.getNextOrPrevOption(e,!s)),e&&e.matches(this.settings.classNames.dropdownItemSelector)||(e=n[s?n.length-1:0]),this.dropdown.highlightOption(e,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&e&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var a=this.dropdown.getMappedValue(i);return this.input.autocomplete.set.call(this,a),!1}return!0;case"Enter":t.preventDefault(),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:e}).then((()=>{if(e)return this.dropdown.selectOption(e),e=this.dropdown.getNextOrPrevOption(e,!s),void this.dropdown.highlightOption(e);this.dropdown.hide(),"mix"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)})).catch((t=>t));break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;const t=this.input.raw.call(this);""!=t&&8203!=t.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);e&&this.dropdown.highlightOption(e)},onMouseLeave(t){this.dropdown.highlightOption()},onClick(t){if(0==t.button&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var e=t.target.closest(this.settings.classNames.dropdownItemSelector),i=this.dropdown.getSuggestionDataByNode(e);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:e}).then((()=>{e?this.dropdown.selectOption(e,t):this.dropdown.hide()})).catch((t=>console.warn(t)))}},onScroll(t){var e=t.target,i=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(i)})}}},getSuggestionDataByNode(t){var e=t&&t.getAttribute("value");return this.suggestedListItems.find((t=>t.value==e))||null},getNextOrPrevOption(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i=this.dropdown.getAllSuggestionsRefs(),n=i.findIndex((e=>e===t));return e?i[n+1]:i[n-1]},highlightOption(t,e){var i,n=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(n),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);i=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=i,this.state.ddItemElm=t,t.classList.add(n),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,i),this.dropdown.position())},selectOption(t,e){var i=this.settings.dropdown,n=i.clearOnSelect,s=i.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(s&&this.dropdown.hide());e=e||{};var a=t.getAttribute("value"),o="noMatch"==a,r=this.suggestedListItems.find((t=>(t.value??t)==a));this.trigger("dropdown:select",{data:r,elm:t,event:e}),a&&(r||o)?(this.state.editing?this.onEditTagDone(null,u({__isValid:!0},this.normalizeTags([r])[0])):this["mix"==this.settings.mode?"addMixTags":"addTags"]([r||this.input.raw.call(this)],n),this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)})),s&&setTimeout(this.dropdown.hide.bind(this)),t.addEventListener("transitionend",(()=>{this.dropdown.fillHeaderFooter(),setTimeout((()=>t.remove()),100)}),{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))):s&&setTimeout(this.dropdown.hide.bind(this))},selectAll(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var e=this.dropdown.filterListItems("");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems(t,e){var i,n,s,a,o,r=this.settings,l=r.dropdown,d=(e=e||{},[]),u=[],g=r.whitelist,p=l.maxItems>=0?l.maxItems:1/0,m=l.searchKeys,f=0;if(!(t="select"==r.mode&&this.value.length&&this.value[0][r.tagTextProp]==t?"":t)||!m.length)return d=l.includeSelectedTags?g:g.filter((t=>!this.isTagDuplicate(c(t)?t.value:t))),this.state.dropdown.suggestions=d,d.slice(0,p);function v(t,e){return e.toLowerCase().split(" ").every((e=>t.includes(e.toLowerCase())))}for(o=l.caseSensitive?""+t:(""+t).toLowerCase();f<g.length;f++){let t,r;i=g[f]instanceof Object?g[f]:{value:g[f]};let p=Object.keys(i).some((t=>m.includes(t)))?m:["value"];l.fuzzySearch&&!e.exact?(s=p.reduce(((t,e)=>t+" "+(i[e]||"")),"").toLowerCase().trim(),l.accentedSearch&&(s=h(s),o=h(o)),t=0==s.indexOf(o),r=s===o,n=v(s,o)):(t=!0,n=p.some((t=>{var n=""+(i[t]||"");return l.accentedSearch&&(n=h(n),o=h(o)),l.caseSensitive||(n=n.toLowerCase()),r=n===o,e.exact?n===o:0==n.indexOf(o)}))),a=!l.includeSelectedTags&&this.isTagDuplicate(c(i)?i.value:i),n&&!a&&(r&&t?u.push(i):"startsWith"==l.sortby&&t?d.unshift(i):d.push(i))}return this.state.dropdown.suggestions=u.concat(d),"function"==typeof l.sortby?l.sortby(u.concat(d),o):u.concat(d).slice(0,p)},getMappedValue(t){var e=this.settings.dropdown.mapValueTo;return e?"function"==typeof e?e(t):t[e]||t.value:t.value},createListHTML(t){return u([],t).map(((t,i)=>{"string"!=typeof t&&"number"!=typeof t||(t={value:t});var n=this.dropdown.getMappedValue(t);return n="string"==typeof n?d(n):n,this.settings.templates.dropdownItem.apply(this,[e(e({},t),{},{mappedValue:n}),this])})).join("")}};const S="@yaireo/tagify/";var O,_={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},M={wrapper:(t,e)=>`<tags class="${e.classNames.namespace} ${e.mode?`${e.classNames[e.mode+"Mode"]}`:""} ${t.className}"\n                    ${e.readonly?"readonly":""}\n                    ${e.disabled?"disabled":""}\n                    ${e.required?"required":""}\n                    ${"select"===e.mode?"spellcheck='false'":""}\n                    tabIndex="-1">\n            <span ${!e.readonly&&e.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${e.placeholder||"&#8203;"}" aria-placeholder="${e.placeholder||""}"\n                class="${e.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==e.mode}"></span>\n                &#8203;\n        </tags>`,tag(t,e){let i=e.settings;return`<tag title="${t.title||t.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${i.a11y.focusableTags?0:-1}"\n                    class="${i.classNames.tag} ${t.class||""}"\n                    ${this.getAttributes(t)}>\n            <x title='' class="${i.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${i.classNames.tagText}">${t[i.tagTextProp]||t.value}</span>\n            </div>\n        </tag>`},dropdown(t){var e=t.dropdown,i="manual"==e.position,n=`${t.classNames.dropdown}`;return`<div class="${i?"":n} ${e.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div data-selector='tagify-suggestions-wrapper' class="${t.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownContent(t){var e=this.settings,i=this.state.dropdown.suggestions;return`\n            ${e.templates.dropdownHeader.call(this,i)}\n            ${t}\n            ${e.templates.dropdownFooter.call(this,i)}\n        `},dropdownItem(t){return`<div ${this.getAttributes(t)}\n                    class='${this.settings.classNames.dropdownItem} ${t.class?t.class:""}'\n                    tabindex="0"\n                    role="option">${t.mappedValue||t.value}</div>`},dropdownHeader(t){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(t){var e=t.length-this.settings.dropdown.maxItems;return e>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">\n                ${e} more items. Refine your search.\n            </footer>`:""},dropdownItemNoMatch:null},I={customBinding(){this.customEventsList.forEach((t=>{this.on(t,this.settings.callbacks[t])}))},binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i=this.events.callbacks,n=t?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!t){for(var s in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:["input",i.onFocusBlur.bind(this)],keydown:["input",i.onKeydown.bind(this)],click:["scope",i.onClickScope.bind(this)],dblclick:["scope",i.onDoubleClickScope.bind(this)],paste:["input",i.onPaste.bind(this)],drop:["input",i.onDrop.bind(this)],compositionstart:["input",i.onCompositionStart.bind(this)],compositionend:["input",i.onCompositionEnd.bind(this)]})this.DOM[e[s][0]][n](s,e[s][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(i.observeOriginalInputValue.bind(this),500);var a=this.listeners.main.inputMutationObserver||new MutationObserver(i.onInputDOMChange.bind(this));a.disconnect(),"mix"==this.settings.mode&&a.observe(this.DOM.input,{childList:!0})}},bindGlobal(t){var e,i=this.events.callbacks,n=t?"removeEventListener":"addEventListener";if(this.listeners&&(t||!this.listeners.global))for(e of(this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:i[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:i.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:i.onFocusBlur.bind(this)},{type:"click",target:document,cb:i.onClickAnywhere.bind(this)}],this.listeners.global))e.target[n](e.type,e.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(t){var e=this.settings,i=t.target?this.trim(t.target.textContent):"",n=this.value?.[0]?.[e.tagTextProp],s=t.type,a=e.dropdown.enabled>=0,o={relatedTarget:t.relatedTarget},r=this.state.actions.selectOption&&(a||!e.dropdown.closeOnSelect),l=this.state.actions.addNew&&a,d=t.relatedTarget&&f.call(this,t.relatedTarget)&&this.DOM.scope.contains(t.relatedTarget);if("blur"==s){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),e.onChangeAfterBlur&&this.triggerChangeEvent()}if(!r&&!l)if(this.state.hasFocus="focus"==s&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=e.mode){if("focus"==s)return this.trigger("focus",o),void(0!==e.dropdown.enabled&&e.userInput||this.dropdown.show(this.value.length?"":void 0));"blur"==s&&(this.trigger("blur",o),this.loading(!1),"select"==e.mode&&(d&&(this.removeTags(),i=""),n===i&&(i="")),i&&!this.state.actions.selectOption&&e.addTagOnBlur&&this.addTags(i,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==s?this.trigger("focus",o):"blur"==t.type&&(this.trigger("blur",o),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(t){this.state.composing=!0},onCompositionEnd(t){this.state.composing=!1},onWindowKeyDown(t){var e,i=document.activeElement,n=f.call(this,i)&&this.DOM.scope.contains(document.activeElement),s=n&&i.hasAttribute("readonly");if(n&&!s)switch(e=i.nextElementSibling,t.key){case"Backspace":this.settings.readonly||(this.removeTags(i),(e||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,i)}},onKeydown(t){var e=this.settings;if(!this.state.composing&&e.userInput){"select"==e.mode&&e.enforceWhitelist&&this.value.length&&"Tab"!=t.key&&t.preventDefault();var i=this.trim(t.target.textContent);if(this.trigger("keydown",{event:t}),"mix"==e.mode){switch(t.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var n=document.getSelection(),s="Delete"==t.key&&n.anchorOffset==(n.anchorNode.length||0),a=n.anchorNode.previousSibling,r=1==n.anchorNode.nodeType||!n.anchorOffset&&a&&1==a.nodeType&&n.anchorNode.previousSibling;o(this.DOM.input.innerHTML);var d,c,u,g=this.getTagElms(),h=1===n.anchorNode.length&&n.anchorNode.nodeValue==String.fromCharCode(8203);if("edit"==e.backspace&&r)return d=1==n.anchorNode.nodeType?null:n.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,d),void t.preventDefault();if(p()&&r instanceof Element)return u=l(r),r.hasAttribute("readonly")||r.remove(),this.DOM.input.focus(),void setTimeout((()=>{w(u),this.DOM.input.click()}));if("BR"==n.anchorNode.nodeName)return;if((s||r)&&1==n.anchorNode.nodeType?c=0==n.anchorOffset?s?g[0]:null:g[Math.min(g.length,n.anchorOffset)-1]:s?c=n.anchorNode.nextElementSibling:r instanceof Element&&(c=r),3==n.anchorNode.nodeType&&!n.anchorNode.nodeValue&&n.anchorNode.previousElementSibling&&t.preventDefault(),(r||s)&&!e.backspace)return void t.preventDefault();if("Range"!=n.type&&!n.anchorOffset&&n.anchorNode==this.DOM.input&&"Delete"!=t.key)return void t.preventDefault();if("Range"!=n.type&&c&&c.hasAttribute("readonly"))return void w(l(c));"Delete"==t.key&&h&&y(n.anchorNode.nextSibling)&&this.removeTags(n.anchorNode.nextSibling),clearTimeout(O),O=setTimeout((()=>{var t=document.getSelection();o(this.DOM.input.innerHTML),!s&&t.anchorNode.previousSibling,this.value=[].map.call(g,((t,e)=>{var i=y(t);if(t.parentNode||i.readonly)return i;this.trigger("remove",{tag:t,index:e,data:i})})).filter((t=>t))}),20)}return!0}switch(t.key){case"Backspace":"select"==e.mode&&e.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&"manual"!=e.dropdown.position||""!=t.target.textContent&&8203!=i.charCodeAt(0)||(!0===e.backspace?this.removeTags():"edit"==e.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let t=this.state.inputSuggestion||this.state.ddItemData;if(t&&e.autoComplete.rightKey)return void this.addTags([t],!0);break}case"Tab":{let n="select"==e.mode;if(!i||n)return!0;t.preventDefault()}case"Enter":if(this.state.dropdown.visible&&"manual"!=e.dropdown.position)return;t.preventDefault(),setTimeout((()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(i,!0)}))}}},onInput(t){this.postUpdate();var e=this.settings;if("mix"==e.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var i=this.input.normalize.call(this),n=i.length>=e.dropdown.enabled,s={value:i,inputElm:this.DOM.input},a=this.validateTag({value:i});"select"==e.mode&&this.toggleScopeValidation(a),s.isValid=a,this.state.inputText!=i&&(this.input.set.call(this,i,!1),-1!=i.search(e.delimiters)?this.addTags(i)&&this.input.set.call(this):e.dropdown.enabled>=0&&this.dropdown[n?"show":"hide"](i),this.trigger("input",s))},onMixTagsInput(t){var e,i,n,s,a,o,r,l,d=this.settings,c=this.value.length,g=this.getTagElms(),h=document.createDocumentFragment(),m=window.getSelection().getRangeAt(0),f=[].map.call(g,(t=>y(t).value));if("deleteContentBackward"==t.inputType&&p()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:"Backspace"}),b(this.getTagElms()),this.value.slice().forEach((t=>{t.readonly&&!f.includes(t.value)&&h.appendChild(this.createTagElem(t))})),h.childNodes.length&&(m.insertNode(h),this.setRangeAtStartEnd(!1,h.lastChild)),g.length!=c)return this.value=[].map.call(this.getTagElms(),(t=>y(t))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(o=window.getSelection()).rangeCount>0&&3==o.anchorNode.nodeType){if((m=o.getRangeAt(0).cloneRange()).collapse(!0),m.setStart(o.focusNode,0),n=(e=m.toString().slice(0,m.endOffset)).split(d.pattern).length-1,(i=e.match(d.pattern))&&(s=e.slice(e.lastIndexOf(i[i.length-1]))),s){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:s.match(d.pattern)[0],value:s.replace(d.pattern,"")},this.state.tag.baseOffset=o.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();a=this.state.tag.value.length>=d.dropdown.enabled;try{r=(r=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&r.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(r||n<this.state.mixMode.matchedPatternCount)&&(a=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=n}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",u({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[a?"show":"hide"](this.state.tag.value)}),10)},onInputIE(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(t){t.target==this.DOM.scope||this.DOM.scope.contains(t.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(t){var e=this.settings,i=t.target.closest("."+e.classNames.tag),n=+new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains(e.classNames.tagX))return i?(this.trigger("click",{tag:i,index:this.getNodeIndex(i),data:y(i),event:t}),void(1!==e.editTags&&1!==e.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&("mix"==e.mode&&this.fixFirefoxLastTagNoCaret(),n>500)?this.state.dropdown.visible?this.dropdown.hide():0===e.dropdown.enabled&&"mix"!=e.mode&&this.dropdown.show(this.value.length?"":void 0):"select"!=e.mode||0!==e.dropdown.enabled||this.state.dropdown.visible||this.dropdown.show());this.removeTags(t.target.parentNode)}else this.DOM.input.focus()},onPaste(t){t.preventDefault();var e,i,n=this.settings;if("select"==n.mode&&n.enforceWhitelist||!n.userInput)return!1;n.readonly||(e=t.clipboardData||window.clipboardData,i=e.getData("Text"),n.hooks.beforePaste(t,{tagify:this,pastedText:i,clipboardData:e}).then((e=>{void 0===e&&(e=i),e&&(this.injectAtCaret(e,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,t):this.settings.pasteAsTags?this.addTags(this.state.inputText+e,!0):this.state.inputText=e)})).catch((t=>t)))},onDrop(t){t.preventDefault()},onEditTagInput(t,e){var i=t.closest("."+this.settings.classNames.tag),n=this.getNodeIndex(i),s=y(i),a=this.input.normalize.call(this,t),o={[this.settings.tagTextProp]:a,__tagId:s.__tagId},r=this.validateTag(o);this.editTagChangeDetected(u(s,o))||!0!==t.originalIsValid||(r=!0),i.classList.toggle(this.settings.classNames.tagInvalid,!0!==r),s.__isValid=r,i.title=!0===r?s.title||s.value:r,a.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=a),this.dropdown.show(a)),this.trigger("edit:input",{tag:i,index:n,data:u({},this.value[n],{newValue:a}),event:e})},onEditTagPaste(t,e){var i=(e.clipboardData||window.clipboardData).getData("Text");e.preventDefault();var n=v(i);this.setRangeAtStartEnd(!1,n)},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur(t){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e,i,n=this.settings,s=t.closest("."+n.classNames.tag),a=y(s),o=this.input.normalize.call(this,t),r={[n.tagTextProp]:o,__tagId:a.__tagId},l=a.__originalData,d=this.editTagChangeDetected(u(a,r)),c=this.validateTag(r);if(o)if(d){if(e=this.hasMaxTags(),i=u({},l,{[n.tagTextProp]:this.trim(o),__isValid:c}),n.transformTag.call(this,i,l),!0!==(c=(!e||!0===l.__isValid)&&this.validateTag(i))){if(this.trigger("invalid",{data:i,tag:s,message:c}),n.editTags.keepInvalid)return;n.keepInvalidTags?i.__isValid=c:i=l}else n.keepInvalidTags&&(delete i.title,delete i["aria-invalid"],delete i.class);this.onEditTagDone(s,i)}else this.onEditTagDone(s,l);else this.onEditTagDone(s)}},onEditTagkeydown(t,e){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:t}),t.key){case"Esc":case"Escape":e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e),this.state.editing=!1;case"Enter":case"Tab":t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,i,n=t.target.closest("."+this.settings.classNames.tag),s=y(n),a=this.settings;n&&a.userInput&&!1!==s.editable&&(e=n.classList.contains(this.settings.classNames.tagEditing),i=n.hasAttribute("readonly"),"select"==a.mode||a.readonly||e||i||!this.settings.editTags||this.editTag(n),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:n,index:this.getNodeIndex(n),data:y(n)}))},onInputDOMChange(t){t.forEach((t=>{t.addedNodes.forEach((t=>{if("<div><br></div>"==t.outerHTML)t.replaceWith(document.createElement("br"));else if(1==t.nodeType&&t.querySelector(this.settings.classNames.tagSelector)){let e=document.createTextNode("");3==t.childNodes[0].nodeType&&"BR"!=t.previousSibling.nodeName&&(e=document.createTextNode("\n")),t.replaceWith(e,...[...t.childNodes].slice(0,-1)),w(e)}else if(f.call(this,t))if(3!=t.previousSibling?.nodeType||t.previousSibling.textContent||t.previousSibling.remove(),t.previousSibling&&"BR"==t.previousSibling.nodeName){t.previousSibling.replaceWith("\n​");let e=t.nextSibling,i="";for(;e;)i+=e.textContent,e=e.nextSibling;i.trim()&&w(t.previousSibling)}else t.previousSibling&&!y(t.previousSibling)||t.before("​")})),t.removedNodes.forEach((t=>{t&&"BR"==t.nodeName&&f.call(this,e)&&(this.removeTags(e),this.fixFirefoxLastTagNoCaret())}))}));var e=this.DOM.input.lastChild;e&&""==e.nodeValue&&e.remove(),e&&"BR"==e.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function D(t,e){if(!t){console.warn("Tagify:","input element not found",t);const e=new Proxy(this,{get:()=>()=>e});return e}if(t.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",t),t.__tagify;var i;u(this,function(t){var e=document.createTextNode("");function i(t,i,n){n&&i.split(/\s+/g).forEach((i=>e[t+"EventListener"].call(e,i,n)))}return{off(t,e){return i("remove",t,e),this},on(t,e){return e&&"function"==typeof e&&i("add",t,e),this},trigger(i,n,s){var a;if(s=s||{cloneData:!0},i)if(t.settings.isJQueryPlugin)"remove"==i&&(i="removeTag"),jQuery(t.DOM.originalInput).triggerHandler(i,[n]);else{try{var o="object"==typeof n?n:{value:n};if((o=s.cloneData?u({},o):o).tagify=this,n.event&&(o.event=this.cloneEvent(n.event)),n instanceof Object)for(var r in n)n[r]instanceof HTMLElement&&(o[r]=n[r]);a=new CustomEvent(i,{detail:o})}catch(t){console.warn(t)}e.dispatchEvent(a)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=e||{},this.getPersistedData=(i=e.id,t=>{let e,n="/"+t;if(1==localStorage.getItem(S+i+"/v",1))try{e=JSON.parse(localStorage[S+i+n])}catch(t){}return e}),this.setPersistedData=(t=>t?(localStorage.setItem(S+t+"/v",1),(e,i)=>{let n="/"+i,s=JSON.stringify(e);e&&i&&(localStorage.setItem(S+t+n,s),dispatchEvent(new Event("storage")))}):()=>{})(e.id),this.clearPersistedData=(t=>e=>{const i=S+"/"+t+"/";if(e)localStorage.removeItem(i+e);else for(let t in localStorage)t.includes(i)&&localStorage.removeItem(t)})(e.id),this.applySettings(t,e),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),E.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}return D.prototype={_dropdown:x,getSetTagData:y,helpers:{sameStr:n,removeCollectionProp:s,omit:a,isObject:c,parseHTML:r,escapeHTML:d,extend:u,concatWithoutDups:g,getUID:m,isNodeTag:f},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(t){return this.settings.trim&&t&&"string"==typeof t?t.trim():t},parseHTML:r,templates:M,parseTemplate(t,e){return r((t=this.settings.templates[t]||t).apply(this,e))},set whitelist(t){const e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(t){for(let e in t){let i=e;Object.defineProperty(t,i+"Selector",{get(){return"."+this[i].split(" ")[0]}})}},applySettings(t,i){T.templates=this.templates;var n=u({},T,"mix"==i.mode?{dropdown:{position:"text"}}:{}),s=this.settings=u({},n,i);if(s.disabled=t.hasAttribute("disabled"),s.readonly=s.readonly||t.hasAttribute("readonly"),s.placeholder=d(t.getAttribute("placeholder")||s.placeholder||""),s.required=t.hasAttribute("required"),this.generateClassSelectors(s.classNames),void 0===s.dropdown.includeSelectedTags&&(s.dropdown.includeSelectedTags=s.duplicates),this.isIE&&(s.autoComplete=!1),["whitelist","blacklist"].forEach((e=>{var i=t.getAttribute("data-"+e);i&&(i=i.split(s.delimiters))instanceof Array&&(s[e]=i)})),"autoComplete"in i&&!c(i.autoComplete)&&(s.autoComplete=T.autoComplete,s.autoComplete.enabled=i.autoComplete),"mix"==s.mode&&(s.pattern=s.pattern||/@/,s.autoComplete.rightKey=!0,s.delimiters=i.delimiters||null,s.tagTextProp&&!s.dropdown.searchKeys.includes(s.tagTextProp)&&s.dropdown.searchKeys.push(s.tagTextProp)),t.pattern)try{s.pattern=new RegExp(t.pattern)}catch(t){}if(s.delimiters){s._delimiters=s.delimiters;try{s.delimiters=new RegExp(this.settings.delimiters,"g")}catch(t){}}s.disabled&&(s.userInput=!1),this.TEXTS=e(e({},_),s.texts||{}),("select"!=s.mode||i.dropdown?.enabled)&&s.userInput||(s.dropdown.enabled=0),s.dropdown.appendTarget=i.dropdown?.appendTarget||document.body;let a=this.getPersistedData("whitelist");Array.isArray(a)&&(this.whitelist=Array.isArray(s.whitelist)?g(s.whitelist,a):a)},getAttributes(t){var e,i=this.getCustomAttributes(t),n="";for(e in i)n+=" "+e+(void 0!==t[e]?`="${i[e]}"`:"");return n},getCustomAttributes(t){if(!c(t))return"";var e,i={};for(e in t)"__"!=e.slice(0,2)&&"class"!=e&&t.hasOwnProperty(e)&&void 0!==t[e]&&(i[e]=d(t[e]));return i},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars(){var t=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(t=>{let e=t.value;return"s"==t.unit?1e3*e:e})(function(t){if(!t)return{};var e=(t=t.trim().split(" ")[0]).split(/\d+/g).filter((t=>t)).pop().trim();return{value:+t.split(e).filter((t=>t))[0].trim(),unit:e}}(t.getPropertyValue("--tag-hide-transition")))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(t){var e,i=this.settings;if(this.state.blockChangeEvent=!0,void 0===t){const e=this.getPersistedData("value");t=e&&!this.DOM.originalInput.value?e:i.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if("mix"==i.mode)this.parseMixTags(t),(e=this.DOM.input.lastChild)&&"BR"==e.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(t)instanceof Array&&(t=JSON.parse(t))}catch(t){}this.addTags(t,!0).forEach((t=>t&&t.classList.add(i.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=i.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(t){var e={};for(var i in t)"path"!=i&&(e[i]=t[i]);return e},loading(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(t,e){return t&&t.classList[e?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(t,e){"string"==typeof t&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation(t){var e=!0===t||void 0===t;!this.settings.required&&t&&t===this.TEXTS.empty&&(e=!0),this.toggleClass(this.settings.classNames.tagInvalid,!e),this.DOM.scope.title=e?"":t},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,i=new CustomEvent("change",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(i),this.trigger("change",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:I,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(t,e){if(e){t="number"==typeof t?t:!!t,e=e.lastChild||e;var i=document.getSelection();if(i.focusNode instanceof Element&&!this.DOM.input.contains(i.focusNode))return!0;try{i.rangeCount>=1&&["Start","End"].forEach((n=>i.getRangeAt(0)["set"+n](e,t||e.length)))}catch(t){}}},insertAfterTag(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e="string"==typeof e?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected(t){var e=t.__originalData;for(var i in e)if(!this.dataProps.includes(i)&&t[i]!=e[i])return!0;return!1},getTagTextNode(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(t,e){this.getTagTextNode(t).innerHTML=d(e)},editTag(t,e){t=t||this.getLastTag(),e=e||{},this.dropdown.hide();var i=this.settings,n=this.getTagTextNode(t),s=this.getNodeIndex(t),a=y(t),o=this.events.callbacks,r=this,l=!0;if(n){if(!(a instanceof Object&&"editable"in a)||a.editable)return a=y(t,{__originalData:u({},a),__originalHTML:t.cloneNode(!0)}),y(a.__originalHTML,a.__originalData),n.setAttribute("contenteditable",!0),t.classList.add(i.classNames.tagEditing),n.addEventListener("focus",o.onEditTagFocus.bind(this,t)),n.addEventListener("blur",(function(){setTimeout((()=>o.onEditTagBlur.call(r,r.getTagTextNode(t))))})),n.addEventListener("input",o.onEditTagInput.bind(this,n)),n.addEventListener("paste",o.onEditTagPaste.bind(this,n)),n.addEventListener("keydown",(e=>o.onEditTagkeydown.call(this,e,t))),n.addEventListener("compositionstart",o.onCompositionStart.bind(this)),n.addEventListener("compositionend",o.onCompositionEnd.bind(this)),e.skipValidation||(l=this.editTagToggleValidity(t)),n.originalIsValid=l,this.trigger("edit:start",{tag:t,index:s,data:a,isValid:l}),n.focus(),this.setRangeAtStartEnd(!1,n),this}else console.warn("Cannot find element in Tag template: .",i.classNames.tagTextSelector)},editTagToggleValidity(t,e){var i;if(e=e||y(t))return(i=!("__isValid"in e)||!0===e.__isValid)||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!i),e.__isValid=i,e.__isValid;console.warn("tag has no data: ",t,e)},onEditTagDone(t,e){e=e||{};var i={tag:t=t||this.state.editing.scope,index:this.getNodeIndex(t),previousData:y(t),data:e};this.trigger("edit:beforeUpdate",i,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&e[this.settings.tagTextProp]?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),this.settings.a11y.focusableTags?t.focus():w(t)):t&&this.removeTags(t),this.trigger("edit:updated",i),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&u(e,this.getInvalidTagAttrs(e,e.__isValid));var i=this.createTagElem(e);return t.parentNode.replaceChild(i,t),this.updateValueByDOMTags(),i},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(t=>{t.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(y(t))})),this.update()},injectAtCaret(t,e){return!(e=e||this.state.selection?.range)&&t?(this.appendMixTags(t),this):(v(t,e),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=d(""+t)),!t&&i&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var t=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize(t){var e=t||this.DOM.input,i=[];e.childNodes.forEach((t=>3==t.nodeType&&i.push(t.nodeValue))),i=i.join("\n");try{i=i.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return i=i.replace(/\s/g," "),this.trim(i)},autocomplete:{suggest(t){if(this.settings.autoComplete.enabled){"string"==typeof(t=t||{value:""})&&(t={value:t});var e=this.dropdown.getMappedValue(t);if("number"!=typeof e){var i=e.substr(0,this.state.inputText.length).toLowerCase(),n=e.substring(this.state.inputText.length);e&&this.state.inputText&&i==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",n),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(t){var e=this.DOM.input.getAttribute("data-suggest"),i=t||(e?this.state.inputText+e:null);return!!i&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+i)):(this.input.set.call(this,i),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(t){return this.value.findIndex((e=>e.__tagId==(t||{}).__tagId))},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n="."+[...this.settings.classNames.tag.split(" "),...e].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(n))},getLastTag(){var t=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return t[t.length-1]},isTagDuplicate(t,e,i){var s=0;if("select"==this.settings.mode)return!1;for(let a of this.value)n(this.trim(""+t),a.value,e)&&i!=a.__tagId&&s++;return s},getTagIndexByValue(t){var e=[],i=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach(((s,a)=>{s.__tagifyTagData&&n(this.trim(s.__tagifyTagData.value),t,i)&&e.push(a)})),e},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{t.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((e=>(""+e).toLowerCase()==t)).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,i){e=e||"value";var s,a=this.settings;return(i=i||a.whitelist).some((i=>{var o="string"==typeof i?i:i[e]||i.value;if(n(o,t,a.dropdown.caseSensitive,a.trim))return s="string"==typeof i?{value:i}:i,!0})),s||"value"!=e||"value"==a.tagTextProp||(s=this.getWhitelistItem(t,a.tagTextProp,i)),s},validateTag(t){var e=this.settings,i="value"in t?"value":e.tagTextProp,n=this.trim(t[i]+"");return(t[i]+"").trim()?"mix"!=e.mode&&e.pattern&&e.pattern instanceof RegExp&&!e.pattern.test(n)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(n,e.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(n)||e.enforceWhitelist&&!this.isTagWhitelisted(n)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{"aria-invalid":!0,class:`${t.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:e}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(t,e){var i=this.settings;document.activeElement.blur(),i[e||"readonly"]=t,this.DOM.scope[(t?"set":"remove")+"Attribute"](e||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!t)},setContentEditable(t){this.settings.userInput&&(this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1)},setDisabled(t){this.setReadonly(t,"disabled")},normalizeTags(t){var e=this.settings,i=e.whitelist,n=e.delimiters,s=e.mode,a=e.tagTextProp,o=[],r=!!i&&i[0]instanceof Object,l=Array.isArray(t),d=l&&t[0].value,c=t=>(t+"").split(n).filter((t=>t)).map((t=>({[a]:this.trim(t),value:this.trim(t)})));if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=c(t)}else l&&(t=[].concat(...t.map((t=>null!=t.value?t:c(t)))));return r&&!d&&(t.forEach((t=>{var e=o.map((t=>t.value)),i=this.dropdown.filterListItems.call(this,t[a],{exact:!0});this.settings.duplicates||(i=i.filter((t=>!e.includes(t.value))));var n=i.length>1?this.getWhitelistItem(t[a],a,i):i[0];n&&n instanceof Object?o.push(n):"mix"!=s&&(null==t.value&&(t.value=t[a]),o.push(t))})),o.length&&(t=o)),t},parseMixTags(t){var e=this.settings,i=e.mixTagsInterpolator,n=e.duplicates,s=e.transformTag,a=e.enforceWhitelist,o=e.maxTags,r=e.tagTextProp,l=[];t=t.split(i[0]).map(((t,e)=>{var d,c,u,g=t.split(i[1]),h=g[0],p=l.length==o;try{if(h==+h)throw Error;c=JSON.parse(h)}catch(t){c=this.normalizeTags(h)[0]||{value:h}}if(s.call(this,c),p||!(g.length>1)||a&&!this.isTagWhitelisted(c.value)||!n&&this.isTagDuplicate(c.value)){if(t)return e?i[0]+t:t}else c[d=c[r]?r:"value"]=this.trim(c[d]),u=this.createTagElem(c),l.push(c),u.classList.add(this.settings.classNames.tagNoAnimation),g[0]=u.outerHTML,this.value.push(c);return g.join("")})).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var d=this.getTagElms();return d.forEach(((t,e)=>y(t,l[e]))),this.update({withoutChangeEvent:!0}),b(d,this.state.hasFocus),t},replaceTextWithNode(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var i,n,s=this.state.selection||window.getSelection(),a=s.anchorNode,o=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return a.splitText(s.anchorOffset-o),-1==(i=a.nodeValue.lastIndexOf(e))||(n=a.splitText(i),t&&a.parentNode.replaceChild(t,n)),!0}},selectTag(t,e){var i=this.settings;if(!i.enforceWhitelist||this.isTagWhitelisted(e.value)){this.input.set.call(this,e[i.tagTextProp]||e.value,!0),this.state.actions.selectOption&&setTimeout((()=>this.setRangeAtStartEnd(!1,this.DOM.input)));var n=this.getLastTag();return n?this.replaceTag(n,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger("add",{tag:t,data:e}),[t]}},addEmptyTag(t){var e=u({value:""},t||{}),i=this.createTagElem(e);y(i,e),this.appendTag(i),this.editTag(i,{skipValidation:!0})},addTags(t,e,i){var n=[],s=this.settings,a=[],o=document.createDocumentFragment();if(i=i||s.skipInvalid,!t||0==t.length)return n;switch(t=this.normalizeTags(t),s.mode){case"mix":return this.addMixTags(t);case"select":e=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),t.forEach((t=>{var e,r={},l=Object.assign({},t,{value:t.value+""});if(t=Object.assign({},l),s.transformTag.call(this,t),t.__isValid=this.hasMaxTags()||this.validateTag(t),!0!==t.__isValid){if(i)return;if(u(r,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:l}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value)),!s.createInvalidTags)return void a.push(t.value)}if("readonly"in t&&(t.readonly?r["aria-readonly"]=!0:delete t.readonly),e=this.createTagElem(t,r),n.push(e),"select"==s.mode)return this.selectTag(e,t);o.appendChild(e),t.__isValid&&!0===t.__isValid?(this.value.push(t),this.trigger("add",{tag:e,index:this.value.length-1,data:t})):(this.trigger("invalid",{data:t,index:this.value.length,tag:e,message:t.__isValid}),s.keepInvalidTags||setTimeout((()=>this.removeTags(e,!0)),1e3)),this.dropdown.position()})),this.appendTag(o),this.update(),t.length&&e&&(this.input.set.call(this,s.createInvalidTags?"":a.join(s._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),s.dropdown.enabled&&this.dropdown.refilter(),n},addMixTags(t){if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var e=document.createDocumentFragment();return t.forEach((t=>{var i=this.createTagElem(t);e.appendChild(i)})),this.appendMixTags(e),e},appendMixTags(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(t){var e,i=this.settings,n=this.state.tag.delimiters;if(i.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(i.pattern.source||i.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),setTimeout((()=>e.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(t),this.update(),!n){var s=this.insertAfterTag(e)||e;setTimeout(w,0,s)}return this.state.tag=null,this.trigger("add",u({},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,i=e.input;e.scope.insertBefore(t,i)},createTagElem(t,i){t.__tagId=m();var n,s=u({},t,e({value:d(t.value+"")},i));return function(t){for(var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=i.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}(n=this.parseTemplate("tag",[s,this])),y(n,t),n},reCheckInvalidTags(){var t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach(((e,i)=>{var n=y(e),s=this.hasMaxTags(),a=this.validateTag(n),o=!0===a&&!s;if("select"==t.mode&&this.toggleScopeValidation(a),o)return n=n.__preInvalidData?n.__preInvalidData:{value:n.value},this.replaceTag(e,n);e.title=s||a}))},removeTags(t,e,i){var n,s=this.settings;if(t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],n=t.reduce(((t,e)=>{e&&"string"==typeof e&&(e=this.getTagElmByValue(e));var i=y(e);return e&&i&&!i.readonly&&t.push({node:e,idx:this.getTagIdx(i),data:y(e,{__removed:!0})}),t}),[]),i="number"==typeof i?i:this.CSSVars.tagHideTransition,"select"==s.mode&&(i=0,this.input.set.call(this)),1==n.length&&"select"!=s.mode&&n[0].node.classList.contains(s.classNames.tagNotAllowed)&&(e=!0),n.length)return s.hooks.beforeRemoveTag(n,{tagify:this}).then((()=>{function t(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?s.keepInvalidTags&&this.trigger("remove",{tag:t.node,index:t.idx}):(this.trigger("remove",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),s.keepInvalidTags&&this.reCheckInvalidTags()))}i&&i>10&&1==n.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+"px",document.body.clientTop,e.node.classList.add(s.classNames.tagHide),setTimeout(t.bind(this),i,e)}.call(this,n[0]):n.forEach(t.bind(this)),e||(this.removeTagsFromValue(n.map((t=>t.node))),this.update(),"select"==s.mode&&this.setContentEditable(!0))})).catch((t=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((t=>t.parentNode.removeChild(t)))},removeTagsFromValue(t){(t=Array.isArray(t)?t:[t]).forEach((t=>{var e=y(t),i=this.getTagIdx(e);i>-1&&this.value.splice(i,1)}))},removeAllTags(t){t=t||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((()=>{this.DOM.input.focus()})),"select"==this.settings.mode&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(t)},postUpdate(){this.state.blockChangeEvent=!1;var t=this.settings,e=t.classNames,i="mix"==t.mode?t.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(e.hasMaxTags,this.value.length>=t.maxTags),this.toggleClass(e.hasNoTags,!this.value.length),this.toggleClass(e.empty,!i),"select"==t.mode&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,"value"))},update(t){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var e=this.getInputValue();this.setOriginalInputValue(e),this.settings.onChangeAfterBlur&&(t||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100)},getInputValue(){var t=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):""},getCleanValue(t){return s(t||this.value,this.dataProps)},getMixedTagsAsString(){var t="",e=this,i=this.settings,n=i.originalInputValueFormat||JSON.stringify,s=i.mixTagsInterpolator;return function i(o){o.childNodes.forEach((o=>{if(1==o.nodeType){const r=y(o);if("BR"==o.tagName&&(t+="\r\n"),r&&f.call(e,o)){if(r.__removed)return;t+=s[0]+n(a(r,e.dataProps))+s[1]}else o.getAttribute("style")||["B","I","U"].includes(o.tagName)?t+=o.textContent:"DIV"!=o.tagName&&"P"!=o.tagName||(t+="\r\n",i(o))}else t+=o.textContent}))}(this.DOM.input),t}},D.prototype.removeTag=D.prototype.removeTags,D}()},689:(t,e,i)=>{"use strict";var n=i(723),s=i(455),a=i.n(s);const o=window.Quill;var r=i.n(o),l=i(48),d=i(782),c=document.getElementById("llms-group-edit-profile");if(c){var u=function(){document.querySelector(".llms-group-card.card--group-profile-about .llms-group-card-footer .llms-group-error").innerHTML=""},g=function(t){return null===f&&(f=new(r())(t,{theme:"bubble",modules:{toolbar:[["bold","italic","link"],[{header:1},{header:2}]]},placeholder:(0,n.__)("Click the edit button to add a description.","lifterlms-groups")})),f},h=function(){g().disable(),u(),delete c.dataset.state,m.style.display="none"},p=document.getElementById("llms-group-save-info"),m=document.querySelector(".llms-group-card.card--group-profile-about .llms-group-card-footer"),f=null;if(c){var v=".llms-group-card.card--group-profile-about .llms-group-card-text";g(v),h(),c.addEventListener("click",(function(t){t.preventDefault(),"active"===c.dataset.state?h():(c.dataset.state="active",g(v).enable(),f.focus(),m.style.display="block")}))}p&&p.addEventListener("click",(function(t){t.preventDefault(),p.disabled=!0,c.disabled=!0,u(),(0,d.K)(p),(0,d.K)(c.querySelector(".state--active")),f.disable(),a()({path:"llms/v1/groups/".concat((0,l.a)("id")),method:"POST",data:{content:(f.root.querySelectorAll("*").forEach((function(t){t.removeAttribute("class")})),f.root.innerHTML.trim())}}).then((function(t){h(),f.root.innerHTML=t.content.raw.trim()})).catch((function(t){f.enable(),document.querySelector(".llms-group-card.card--group-profile-about .llms-group-card-footer .llms-group-error").innerHTML=t.message})).finally((function(t){p.disabled=!1,c.disabled=!1,(0,d.w)(p),(0,d.w)(c.querySelector(".state--active"))}))}))}},686:(t,e,i)=>{"use strict";i.r(e);var n=i(455),s=i.n(n),a=i(723),o=i(619),r=i(496),l=i.n(r),d=i(804),c=i(48),u=i(782);if(document.getElementById("llms-group-invite-members")){var g=function(){y.disabled=0===f.value.length},h="llms/v1/groups/".concat((0,c.a)("id"),"/invitations"),p="llms-group-invite-modal",m=document.getElementById("llms_group_invitation_emails"),f=new(l())(m,{delimiters:",| ",keepInvalidTags:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),v=document.getElementById("llms_group_invitation_role"),y=document.getElementById("llms-group-send-invite"),w=document.getElementById("llms-group-open-invite-link"),b=document.querySelector("#".concat(p," .llms-group-modal--footer")),T=document.getElementById("llms_group_invitation_link"),E=document.getElementById("llms_group_invitation_link_id"),x=document.querySelector("#".concat(p," .llms-group-error.error--send")),S=document.querySelector("#".concat(p," .llms-group-error.error--link"));if(f.TEXTS.pattern=(0,a.__)("Invalid email address","lifterlms-groups"),f.TEXTS.duplicate=(0,a.__)("Duplicate email address","lifterlms-groups"),f.on("add",g),f.on("remove",g),y.addEventListener("click",(function(t){t.preventDefault(),x.innerHTML="",(0,u.K)(y),Promise.all(f.value.map((function(t){var e={email:t.value};return v&&(e.role=v.value),s()({path:h,method:"POST",data:e}).then((function(t){return t})).catch((function(t){return t}))}))).then((function(t){!function(t){var e=[],i=0,n=0;t.forEach((function(t){t.code&&-1===e.indexOf(t.message)?(e.push(t.message),++n):t.id&&++i})),n&&(e.length>1&&(x.innerHTML="<p>".concat((0,a.__)("The following errors were encountered:","lifterlms-groups"),"</p>")),x.innerHTML+=e.map((function(t){return"<p>".concat(t,"</p>")}))),(0,o.doAction)("llmsGroups.invitationsSent",t,i,n),i&&((0,o.doAction)("llmsGroups.updateUsedSeats",{increment:i}),n||d.A.close(p))}(t),f.removeAllTags(),g(),(0,u.w)(y)}))})),T.readOnly=!0,T.addEventListener("click",(function(){T.setSelectionRange(0,T.value.length)})),w.addEventListener("click",(function(t){t.preventDefault(),S.innerHTML="";var e=b.classList;e.contains("is-enabled")?s()({path:"".concat(h,"/").concat(E.value),method:"DELETE"}).then((function(t){e.remove("is-enabled"),T.value="",E.value=""})).catch((function(t){console.log(t)})):s()({path:h,method:"POST"}).then((function(t){e.add("is-enabled"),T.value=t.accept_link,E.value=t.id})).catch((function(t){S.innerHTML=t.message}))})),v){var O=function(){var t=v.value;v.closest(".llms-form-field").querySelectorAll(".llms-description > span").forEach((function(e){e.style.display=e.dataset.groupRole===t?"initial":"none"}))};O(),v.addEventListener("change",O)}}},73:(t,e,i)=>{"use strict";i.r(e);var n=i(455),s=i.n(n),a=i(723),o=i(48),r=i(782),l=document.querySelectorAll(".llms-group-context-menu.manage-member-actions");if(l.length){var d=function(t){var e=t.target,i=e.dataset,n=i.action,l=i.uid,d={};(0,r.K)(e),"remove"!==n&&(d.group_role=n),s()({path:"llms/v1/groups/".concat((0,o.a)("id"),"/members/").concat(l),method:"remove"===n?"DELETE":"POST",data:d}).then((function(t){window.location.reload()})).catch((function(t){alert(t.message?t.message:(0,a.__)("An unknown error was encountered, please try again.","lifterlms-groups")),(0,r.w)(e)}))};l.forEach((function(t){t.querySelectorAll("button.llms-group-member-action").forEach((function(t){t.addEventListener("click",d)}))}))}},292:(t,e,i)=>{"use strict";i.r(e);var n=i(619),s=i(576),a=i.n(s),o=i(87),r=i(455),l=i.n(r),d=i(723),c=i(48),u=i(782),g=document.getElementById("llms-group-pending-invitations-list");if(g){var h=function(t){g.querySelector(".llms-group-pending-invitations-msg").style.display=t?"block":"none"},p=g.querySelectorAll(".llms-group-pending-invitation"),m=document.getElementById("llms-group-search-pending-invitations");m&&m.addEventListener("input",(0,o.debounce)((function(){var t=!1,e=m.value;p.forEach((function(i){var n=i.querySelector("span");n.innerHTML=n.textContent,!e||n.textContent.includes(e)?(t=!0,i.classList.remove("hidden-result"),e&&(n.innerHTML=n.innerHTML.replace(new RegExp(e,"gi"),(function(t){return"<mark>".concat(t,"</mark>")})))):i.classList.add("hidden-result")})),h(!t)}),300)),new(a())(".llms-group-button.invitation--link").on("success",(function(t){var e=t.trigger.closest(".llms-group-pending-invitation"),i=document.createElement("SPAN");i.classList.add("llms-groups-copied"),i.appendChild(document.createTextNode((0,d.__)("Link copied!","lifterlms"))),e.appendChild(i),setTimeout((function(){e.removeChild(i)}),1100)})),p.forEach((function(t){var e=t.querySelector(".llms-group-button.invitation--trash");null!==e&&e.addEventListener("click",(function(){(0,u.K)(e),l()({path:"llms/v1/groups/".concat((0,c.a)("id"),"/invitations/").concat(e.dataset.id),method:"DELETE"}).then((function(e){t.classList.add("is-deleted"),(0,n.doAction)("llmsGroups.updateUsedSeats",{decrement:1}),setTimeout((function(){t.parentNode.removeChild(t),p=g.querySelectorAll(".llms-group-pending-invitation"),h(0===p.length)}),500)})).catch((function(t){(0,u.w)(e),console.log(t)}))}))})),(0,n.addAction)("llmsGroups.invitationsSent","llmsGroups",(function(t,e,i){e&&!i&&window.location.reload()}))}},392:(t,e,i)=>{"use strict";i.r(e);var n=i(455),s=i.n(n),a=i(619),o=i(804),r=i(48),l=i(782);if(document.getElementById("llms-group-add-seats")){var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.increment,i=void 0===e?0:e,n=t.decrement,s=void 0===n?0:n,a=parseInt(u.textContent)+i-s;u.textContent=a,m.textContent=a,c.min=a},c=document.getElementById("llms_group_seats"),u=document.getElementById("llms-group-seats-used"),g=document.getElementById("llms-group-seats-open"),h=document.getElementById("llms-group-save-seats"),p=document.getElementById("llms-groups-seats-total"),m=document.getElementById("llms-groups-seats-used");h.addEventListener("click",(function(t){t.preventDefault(),(0,l.K)(h),s()({path:"llms/v1/groups/".concat((0,r.a)("id"),"/seats"),method:"PUT",data:{total:c.value}}).then((function(t){p.textContent=t.total,o.A.close("llms-group-seats-modal")})).catch((function(t){console.log(t)})).finally((function(){(0,l.w)(h)}))})),c.addEventListener("input",(function(){var t=c.value-u.textContent;g.textContent=t,h.disabled=t<0})),(0,a.addAction)("llmsGroups.updateUsedSeats","llmsGroups",d),d()}},307:(t,e,i)=>{"use strict";var n=i(87),s=i(455),a=i.n(s);const o=window.wp.url;var r=i(496),l=i.n(r),d=i(723);const c=window.wp.htmlEntities;var u=i(48),g=i(782);function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var p=document.getElementById("llms-group-save-settings");if(p){var m,f=function(t){t.dataset.origVal=t.value},v=function(t,e,i){var n=i?i.signal:null;if(i&&i.abort(),!e)return t.settings.whitelist=[],void(t._search={});if(t._search&&e===t._search.term){if(e===t._search.term&&-1===parseInt(t._search.courses)&&-1===parseInt(t._search.memberships))return}else t._search={term:e,courses:1,memberships:1},t.settings.whitelist=[],t.dropdown.hide.call(t);t.loading(!0),T(t),Promise.all(["courses","memberships"].map((function(i){var s=parseInt(t._search[i]);if(1>s)return[];var r=(0,o.addQueryArgs)("/llms/v1/".concat(i,"/"),{search:e,page:s,per_page:10,orderby:"relevance"});return a()({path:r,method:"GET",parse:!1},{abortSignal:n}).then((function(n){var a=parseInt(n.headers.get("x-wp-totalpages")),o=0===a||s===a?-1:s+1;return e!==t._search.term||!o>parseInt(t._search[i])?[]:(t._search[i]=o,n.json())})).then((function(t){return t})).catch((function(t){return t}))}))).then((function(i){if(E(t),i.length&&e===t._search.term){var n=[];i.map((function(t){return n=n.concat(t)})),n=n.map((function(t){return{value:(0,d.sprintf)("%1$s (%2$s)",(0,c.decodeEntities)(t.title.rendered),S(t.post_type)),code:t.id}})),y(t,n)}else t.loading(!1)}))},y=function(t,e){var i,s;(i=t.settings.whitelist).push.apply(i,function(t){if(Array.isArray(t))return h(t)}(s=(0,n.difference)(e,t.settings.whitelist))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(s)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var a=w(t);t.loading(!1).dropdown.show.call(t),a&&b(t)},w=function(t){var e=t.settings.dropdown.classname,i=document.querySelector(".".concat(e," > div"));return i&&i.scrollHeight<=i.offsetHeight+i.scrollTop},b=function(t){var e=document.querySelector(".".concat(t.settings.dropdown.classname," > div"));e.scrollTop+=e.offsetHeight},T=function(t){var e=t.settings.dropdown.classname,i=document.querySelector(".".concat(e));if(i){E(t);var n=document.createElement("div"),s=document.createElement("div"),a=document.createTextNode((0,d.__)("Loading more results...","liftelrms-groups"));n.className="".concat(e,"-status"),s.appendChild(a),n.appendChild(s),i.appendChild(n)}},E=function(t){var e=t.settings.dropdown.classname,i=document.querySelector(".".concat(e)),n=document.querySelector(".".concat(e," .").concat(e,"-status"));i&&n&&i.removeChild(n)},x=function(t){var e=t.closest(".llms-form-field").querySelector("label").textContent.replace("*","").trim();return(0,d.sprintf)(
// Translators: %s = Form element label describing the required field.
// Translators: %s = Form element label describing the required field.
(0,d.__)("%s cannot be blank.","lifterlms-groups"),e)},S=function(t){var e=(0,u.a)("i18n").post_types[t];return e&&e.singular?e.singular:t},O=function(t){return t.dataset.origVal!==t.value},_=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k.forEach((function(e){e.disabled=t}))},M=function(t){var e=[];if(t.title||e.push(x(D)),t.slug||e.push(x(I)),A&&m&&!m.value.length&&e.push(x(A)),e.length){var i="p";return e.length>=2&&(i="ul",e=e.map((function(t){return"<li>".concat(t,"</li>")}))),"<".concat(i,">").concat(e.join(""),"</").concat(i,">")}return""},I=document.getElementById("llms_group_slug"),D=document.getElementById("llms_group_title"),C=document.getElementById("llms_group_visibility"),A=document.getElementById("llms_group_post_id"),L=document.querySelector(".llms-group-profile-header .llms-group-name"),N=document.querySelector(".llms-group-card.card--group-profile-settings .llms-group-error"),k=document.querySelector(".llms-group-card.card--group-profile-settings .llms-form-fields").querySelectorAll("input, select"),V=window.AbortController&&new AbortController;A&&(f(A),(m=new(l())(A,{mode:"select",dropdown:{maxItems:1/0,classname:"llms-group__postDropdown"},enforceWhitelist:!0,whitelist:A.value?[A.value]:[],delimiters:!1})).on("input",(0,n.debounce)((function(t){return v(m,t.detail.value,V)}),300)),m.on("dropdown:scroll",(0,n.debounce)((function(t){t.detail.percentage>=100&&!m.value.length&&m.state.inputText&&v(m,m.state.inputText,V)}),300)),m.on("dropdown:hide",(function(){E(m)}))),p.addEventListener("click",(function(t){var e,i;t.preventDefault(),e=function(){var t={slug:I.value,title:D.value};return O(C)&&(t.visibility=C.value),A&&m&&m.value.length&&A.dataset.origVal!==m.value[0].value&&(t.post=m.value[0].code),t}(),i=M(e),N.innerHTML=i,i||((0,g.K)(p),_("off"),a()({path:"llms/v1/groups/".concat((0,u.a)("id")),method:"POST",data:e}).then((function(t){f(C),(O(I)||e.post)&&(window.location.href=t.permalink+window.location.pathname.split("/").reverse().filter(Boolean)[0])})).catch((function(t){var e=t.message;t.data.params&&t.data.params.slug&&(e=t.data.params.slug),N.innerHTML=e})).finally((function(){(0,g.w)(p),_()})))})),D.addEventListener("keyup",(function(t){L.textContent=D.value})),f(C),f(I)}},836:(t,e,i)=>{"use strict";i.r(e);var n=i(723),s=i(804),a=i(48),o=i(782);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var l=document.getElementById("llms-group-modal-error"),d="llms-group-upload-modal",c=document.getElementById("llms-group-uploader-zone"),u=document.getElementById("llms-group-upload-image");function g(t){s.A.show(d),c.dataset.uploadType=t}function h(t){if(!function(t){return-1!==p().map((function(t){return t.substring(1)})).indexOf(function(t){return t.name.split(".").reverse()[0]}(t))}(t))
// Translators: %s = Comma-separated list of accepted file extensions.
return l.innerHTML=(0,n.sprintf)((0,n.__)("That file type is not allowed. The following file types are accepted: %s.","lifterlms-groups"),p().join(", "));(0,o.K)(c),c.classList.add("disabled");var e=new FormData;e.append("action","llms_groups_upload_image"),e.append("file",t),e.append("group_id",(0,a.a)("id")),e.append("nonce",document.getElementById("llms-group-banner-image-upload-nonce").value),e.append("img_type",c.dataset.uploadType),LLMS.Ajax.call({data:e,contentType:!1,processData:!1,error:function(t,e,i){var n;n="object"===r(i)&&i.message?i.message:i,l.innerHTML=n,u.value="",(0,o.w)(c),c.classList.remove("disabled")},success:function(t){document.querySelector("#llms-".concat(c.dataset.uploadType,"-img > img")).src=t.data.source_url,s.A.close(d),u.value="",(0,o.w)(c),c.classList.remove("disabled")}})}function p(){return u.accept.split(",")}document.getElementById("llms-group-upload-banner").addEventListener("click",(function(t){t.preventDefault(),g("banner")})),document.getElementById("llms-group-upload-logo").addEventListener("click",(function(t){t.preventDefault(),g("logo")})),c.addEventListener("dragover",(function(){c.classList.add("dragover")})),c.addEventListener("dragleave",(function(){c.classList.remove("dragover")})),document.addEventListener("drop",(function(t){t.target.closest(".llms-group-uploader")&&h(t.dataTransfer.files[0])})),u.addEventListener("change",(function(t){h(t.target.files[0])}))},48:(t,e,i)=>{"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=window.llms_groups_data;return e&&t?e[t]?e[t]:null:e}i.d(e,{a:()=>n})},782:(t,e,i)=>{"use strict";function n(t){var e=a(t);e.dataset.origClassList=e.classList,e.classList="fa fa-spinner fa-pulse"}function s(t){var e=a(t);e.classList=e.dataset.origClassList}function a(t){return"string"==typeof t?document.querySelector(t+" .fa"):t.querySelector(".fa")}i.d(e,{K:()=>n,w:()=>s})},576:function(t){var e;e=function(){return function(){var t={686:function(t,e,i){"use strict";i.d(e,{default:function(){return b}});var n=i(279),s=i.n(n),a=i(370),o=i.n(a),r=i(817),l=i.n(r);function d(t){try{return document.execCommand(t)}catch(t){return!1}}var c=function(t){var e=l()(t);return d("cut"),e},u=function(t,e){var i=function(t){var e="rtl"===document.documentElement.getAttribute("dir"),i=document.createElement("textarea");i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;return i.style.top="".concat(n,"px"),i.setAttribute("readonly",""),i.value=t,i}(t);e.container.appendChild(i);var n=l()(i);return d("copy"),i.remove(),n},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},i="";return"string"==typeof t?i=u(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==t?void 0:t.type)?i=u(t.value,e):(i=l()(t),d("copy")),i};function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e){var i="data-clipboard-".concat(t);if(e.hasAttribute(i))return e.getAttribute(i)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,t);var e,i,n,s,a,r=(s=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e,i=v(s);if(a){var n=v(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return!(e=t)||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):e});function l(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(i=r.call(this)).resolveOptions(e),i.listenClick(t),i}return e=l,i=[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=o()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,i=this.action(e)||"copy",n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,i=void 0===e?"copy":e,n=t.container,s=t.target,a=t.text;if("copy"!==i&&"cut"!==i)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==s){if(!s||"object"!==h(s)||1!==s.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===i&&s.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===i&&(s.hasAttribute("readonly")||s.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return a?g(a,{container:n}):s?"cut"===i?c(s):g(s,{container:n}):void 0}({action:i,container:this.container,target:this.target(e),text:this.text(e)});this.emit(n?"success":"error",{action:i,text:n,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return y("action",t)}},{key:"defaultTarget",value:function(t){var e=y("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return y("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],n=[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return g(t,e)}},{key:"cut",value:function(t){return c(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach((function(t){i=i&&!!document.queryCommandSupported(t)})),i}}],i&&m(e.prototype,i),n&&m(e,n),l}(s()),b=w},828:function(t){if("undefined"!=typeof Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,i){var n=i(828);function s(t,e,i,n,s){var o=a.apply(this,arguments);return t.addEventListener(i,o,s),{destroy:function(){t.removeEventListener(i,o,s)}}}function a(t,e,i,s){return function(i){i.delegateTarget=n(i.target,e),i.delegateTarget&&s.call(t,i)}}t.exports=function(t,e,i,n,a){return"function"==typeof t.addEventListener?s.apply(null,arguments):"function"==typeof i?s.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return s(t,e,i,n,a)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,i){var n=i(879),s=i(438);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(t))return function(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}(t,e,i);if(n.nodeList(t))return function(t,e,i){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,i)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,i)}))}}}(t,e,i);if(n.string(t))return function(t,e,i){return s(document.body,t,e,i)}(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(t){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),s=document.createRange();s.selectNodeContents(t),n.removeAllRanges(),n.addRange(s),e=n.toString()}return e}},279:function(t){function e(){}e.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var a=0,o=n.length;a<o;a++)n[a].fn!==e&&n[a].fn._!==e&&s.push(n[a]);return s.length?i[t]=s:delete i[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}return i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i(686)}().default},t.exports=e()},804:(t,e,i)=>{"use strict";function n(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,{A:()=>u});var a,o,r,l,d,c=(a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],o=function(){function t(e){var i=e.targetModal,s=e.triggers,a=void 0===s?[]:s,o=e.onShow,r=void 0===o?function(){}:o,l=e.onClose,d=void 0===l?function(){}:l,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,g=e.closeTrigger,h=void 0===g?"data-micromodal-close":g,p=e.openClass,m=void 0===p?"is-open":p,f=e.disableScroll,v=void 0!==f&&f,y=e.disableFocus,w=void 0!==y&&y,b=e.awaitCloseAnimation,T=void 0!==b&&b,E=e.awaitOpenAnimation,x=void 0!==E&&E,S=e.debugMode,O=void 0!==S&&S;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.getElementById(i),this.config={debugMode:O,disableScroll:v,openTrigger:u,closeTrigger:h,openClass:m,onShow:r,onClose:d,awaitCloseAnimation:T,awaitOpenAnimation:x,disableFocus:w},a.length>0&&this.registerTriggers.apply(this,n(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];i.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var i=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(i),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(a);return Array.apply(void 0,n(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var i=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));i.length>0&&i[0].focus(),0===i.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var i=e.indexOf(document.activeElement);t.shiftKey&&0===i&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&i===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e),t}(),r=null,l=function(t){if(!document.getElementById(t))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},d=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var i in e)l(i);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),i=n(document.querySelectorAll("[".concat(e.openTrigger,"]"))),s=function(t,e){var i=[];return t.forEach((function(t){var n=t.attributes[e].value;void 0===i[n]&&(i[n]=[]),i[n].push(t)})),i}(i,e.openTrigger);if(!0!==e.debugMode||!1!==d(i,s))for(var a in s){var l=s[a];e.targetModal=a,e.triggers=n(l),r=new o(e)}},show:function(t,e){var i=e||{};i.targetModal=t,!0===i.debugMode&&!1===l(t)||(r&&r.removeEventListeners(),(r=new o(i)).showModal())},close:function(t){t?r.closeModalById(t):r.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=c);const u=c},644:(t,e,i)=>{"use strict";i.r(e)},87:t=>{"use strict";t.exports=window.lodash},455:t=>{"use strict";t.exports=window.wp.apiFetch},619:t=>{"use strict";t.exports=window.wp.hooks},723:t=>{"use strict";t.exports=window.wp.i18n}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=i(804);i(644),i(689),i(686),i(73),i(292),i(392),i(307),i(836),t.A.init();var e=document.querySelectorAll(".llms-group-modal");document.querySelectorAll("[data-micromodal-trigger]").forEach((function(i){i.addEventListener("click",(function(){e.forEach((function(t){t.classList.remove("is-open")}));var n=i.getAttribute("data-micromodal-trigger");t.A.show(n)}))}))})()})();